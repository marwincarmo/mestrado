---
main_topsize: 0.1 #percent coverage of the poster
main_bottomsize: 0.1
poster_height: "150cm"
poster_width: "80cm"
#ESSENTIALS
title: '**The association between sleep-related cognitions, psychological flexibility, and insomnia symptoms**'
author:
  - name: '**Marwin M. I. B. Carmo**'
    affil: 1
    main: true
    orcid: '0000-0002-1099-3857'
    twitter: marwincarmo 
    email: marwin@usp.br
  - name: Renatha El Rafihi Ferreira
    affil: 1
    main: true
    email: 'rerafihi@usp.br '
affiliation:
  - num: 1
    address: Department of Psychiatry, University of São Paulo
#Column
column_numbers: 2
#Main Section
main_fontfamily: "PT Sans"
main_findings:
  - "Lower levels of psychological flexibility may enhance the effects of dysfunctional beliefs on insomnia symptoms."
logoleft_name: https&#58;//raw.githubusercontent.com/brentthorne/posterdown/master/images/betterhexlogo.png
logoright_name: https&#58;//raw.githubusercontent.com/brentthorne/posterdown/master/images/betterhexlogo.png
logocenter_name: https&#58;//raw.githubusercontent.com/brentthorne/posterdown/master/images/qr-code-black.png
output: 
  posterdown::posterdown_betterport:
    self_contained: false
    pandoc_args: --mathjax
    number_sections: false
bibliography: packages.bib
link-citations: true
---

```{r, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE,
                      tidy = FALSE,
                      message = FALSE,
                      fig.align = 'center',
                      out.width = "100%")
options(knitr.table.format = "html") 
```

```{r data, include=FALSE}
library(dplyr)
library(ggplot2)
dados <- readr::read_csv("G:/Documentos/ProjetosR/ASONO/act_insonia/dados/base_arrumada_1409.csv")
```

# Introduction

The cognitive-behavioral model of insomnia proposes that arousal, cognitions, behaviors, and perceived consequences play an important role in maintaining insomnia symptoms. The metacognitive model of insomnia expands this idea by defining cognitive activity as primary arousal and how one interprets those thoughts as a secondary arousal. Because primary and secondary processes mutually influence each other, the content of maladaptive sleep-related thoughts can impact the maintenance of insomnia disorder more strongly if one is rigidly attached to them

```{r, include=FALSE}
knitr::write_bib(c('posterdown', 'rmarkdown','pagedown'), 'packages.bib')
```

## Objective

To investigate if psychological inflexibility moderates the relationship between dysfunctional beliefs about sleep and insomnia severity. 

# Methods

Data were collected from online surveys responded by 642 adults, aged 18 to 59 years, who reported experiencing insomnia symptoms.

Participants completed self-report questionnaires, including:

1. Hospital Anxiety and Depression Scale (HADS);
2. Insomnia Severity Scale (ISI);
3. Dysfunctional Beliefs and Attitudes about Sleep Scale (DBAS-16);
4. Acceptance and Action Questionnaire (AAQ-II). 

A linear model (estimated using OLS) was fitted to predict ISI scores from DBAS-16 and AAQ-II with age, sex and HADS subscales as covariates:

$$
IGI \sim Age + Sex + HADSA + HADSD + DBAS\times AAQII
$$

# Results

```{r sample characteristics, include=FALSE}
income <- dados |> 
  pull(renda)

sex <- dados |>
  filter(!is.na(sexo)) |> 
  count(sexo) |> 
  mutate(p = n/sum(n))

race <- dados |> 
  filter(!is.na(etnia)) |> 
  count(etnia) |> 
  mutate(p = n/sum(n))

education <- dados |> 
  count(escolaridade) |> 
  mutate(p = n/sum(n))

medication <- dados |> 
  count(medicacao_semana) |> 
  mutate(p = n/sum(n))

origin <- dados |> 
  count(regiao) |> 
  mutate(p = n/sum(n))

```

Mean **age** was `r round(mean(pull(dados, idade)), 1)` $\pm$ `r round(sd(pull(dados, idade)), 1)` years. Female participants accounted for `r round(pull(select(filter(sex, sexo == "F"), p)),3)*100`% of the sample. Median **family income** was `r median(income, na.rm = TRUE)`.00. The sample was composed of `r round(pull(select(filter(race, etnia == 1), p)),3)*100`% whites, `r round(sum(pull(select(filter(race, etnia == 2 | etnia == 3), p))),3)*100`% blacks, `r round(pull(select(filter(race, etnia == 4), p)),3)*100`% Asians and `r round(pull(select(filter(race, etnia == 5), p)),3)*100`% Indigenous. The participants **origin** were largely from the Southeast Region (`r round(pull(select(filter(origin, regiao == "Região Sudeste"), p)),3)*100`%). Participants with a a Bachelor's or higher degree were `r round(pull(select(filter(education, escolaridade == 9), p)),3)*100`% of the sample. `r round(sum(pull(select(filter(medication, medicacao_semana > 0 &  medicacao_semana <= 7), p))),3)*100`% of participants take **sleep medications** at least once a week and `r round(pull(select(filter(medication, medicacao_semana == 7), p)),3)*100`% take it every night.

```{r, irisfigure, fig.cap='Here is a caption for the figure. This can be added by using the "fig.cap" option in the r code chunk options, see this [link](https://yihui.name/knitr/options/#plots) from the legend himself, [Yihui Xie](https://twitter.com/xieyihui).', out.width="80%"}
par(mar=c(2,2,0,1))
dados |> 
  tidyr::pivot_longer(c(idade, igi_escore:dbas_score), names_to = "variavel", values_to = "escore") |> 
  ggplot(aes(x = escore)) +
  geom_histogram(bins = 10, color = "black", fill = "#024F84", alpha = .7) + 
  facet_wrap(~ variavel, scales="free", ncol = 2) +
  theme_bw() +
  labs(x = "Escore", y = "Frequência")
```

Maybe you want to show off some of that fancy code you spent so much time on to make that figure, well you can do that too! Just use the `echo=TRUE` option in the r code chunk options, Figure \@ref(fig:myprettycode)!

```{r myprettycode, echo=TRUE, fig.cap='Boxplots, so hot right now!', fig.height=6, out.width="80%"}
#trim whitespace
par(mar=c(2,2,0,0))
#plot boxplots
boxplot(iris$Sepal.Width~iris$Species,
        col = "#008080", 
        border = "#0b4545",
        ylab = "Sepal Width (cm)",
        xlab = "Species")
```

How about a neat table of data? See, Table \@ref(tab:iristable):

```{r, iristable}
knitr::kable(
  iris[1:15,1:5], format = "html",
  caption = "A table made with the **knitr::kable** function.",
  align = "c", col.names = c("Sepal <br> Length",
                             "Sepal <br> Width",
                             "Petal <br> Length",
                             "Petal <br> Width",
                             "Species"),
  escape = FALSE)
```

# References
